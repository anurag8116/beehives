<div class="main">
  <!-- MAIN CONTENT -->
  <div class="main-content">
    <div class="col-md-12 left-pad2 right-pad2">
      <div class="panel panel-profile">
        <div class="panel panel-heading newhead newbg iconsize">
          <div class="row">
            <div class="col-md-6 innerheadsource">
              <h3>Download Report</h3>
            </div>
          </div>
        </div>
        <div *ngIf="!hasRolePartnershipTeam && !hasRoleM2p" class="row detailpage">
          <div class="col-md-12">
            <h4 class="left-space">Settlement Report</h4>
          </div>
          <div class="col-md-10">
            <form>
              <div class="">
                <div class="clearfix">
                  <div class="row form-inner-cover">
                    <div class="row">
                      <div class="col-md-12 top-spc">
                        <div class="col-md-3 right-margin">
                          <label class="required" for="reportModuleId">Module</label>
                          <select class="form-control" id="reportModuleId" (ngModelChange)="onDataSourceChange($event)" [ngModel]="null" [ngModelOptions]="{standalone: true}">
                            <option [ngValue]="null" disabled>&#45;&#45;Report Module&#45;&#45;</option>
                            <option *ngFor="let dataSource of settlementDataSources" [ngValue]="dataSource">
                              {{dataSource.name}}
                            </option>
                          </select>
                        </div>
                        <div class="col-md-4 right-margin">
                          <label class="required" for="pipelineExecutionId">Report</label>
                          <select class="form-control" id="pipelineExecutionId" [formControl]="pipelineExecutionId">
                            <option value="null" disabled>&#45;&#45;Report&#45;&#45;</option>
                            <option *ngFor="let pipelineExecution of pipelineExecutions" value="{{pipelineExecution.id}}">
                              {{pipelineExecution.name}} | {{pipelineExecution.date | date:'dd-MM-yyyy'}}
                            </option>
                          </select>
                        </div>
                        <div class="col-md-3 right-margin">
                          <label for="reconIterationId">Recon Iteration</label>
                          <select class="form-control" id="reconIterationId" [formControl]="reconIterationId">
                            <option value="null" disabled>&#45;&#45;Recon Iteration&#45;&#45;</option>
                            <option *ngFor="let reconIteration of reconIterations" value="{{reconIteration.id}}">
                              {{reconIteration.reconName}} {{reconIteration.executionStartTime | date:'MMM dd yyyy, hh:mm a'}}
                            </option>
                          </select>
                        </div>
                        <div class="col-md-2 top-spc30">
                          <button type="button" (click)="prepareReport()" class="btn submit-btn">
                            Prepare Report
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>


        <div *ngIf="!hasRolePartnershipTeam && !hasRoleM2p" class="row detailpage">
          <div class="col-md-12">
            <h4 class="left-space">MIS Report</h4>
          </div>
          <div class="col-md-10">
            <form>
              <div class="">
                <div class="clearfix">
                  <div class="row form-inner-cover">
                    <div class="row">
                      <div class="col-md-12 top-spc">
                        <div class="col-md-3 right-margin">
                          <label class="required" for="MIS_reportModuleId">Module</label>
                          <select class="form-control" id="MIS_reportModuleId" (ngModelChange)="onDataSourceChange($event)" [ngModel]="null" [ngModelOptions]="{standalone: true}">
                            <option [ngValue]="null" disabled>&#45;&#45;Report Module&#45;&#45;</option>
                            <option *ngFor="let dataSource of settlementDataSources" [ngValue]="dataSource">
                              {{dataSource.name}}
                            </option>
                          </select>
                        </div>
                        <div class="col-md-4 right-margin">
                          <label class="required" for="mis_pipelineExecutionId">Report</label>
                          <select class="form-control" id="mis_pipelineExecutionId" [formControl]="pipelineExecutionId">
                            <option value="null" disabled>&#45;&#45;Report&#45;&#45;</option>
                            <option *ngFor="let pipelineExecution of pipelineExecutions" value="{{pipelineExecution.id}}">
                              {{pipelineExecution.name}} | {{pipelineExecution.date | date:'dd-MM-yyyy'}}
                            </option>
                          </select>
                        </div>
                        <div *ngIf="false" class="col-md-3 right-margin">
                          <label for="mis_reconIterationId">Recon Iteration</label>
                          <select class="form-control" id="mis_reconIterationId" [formControl]="reconIterationId">
                            <option value="null" disabled>&#45;&#45;Recon Iteration&#45;&#45;</option>
                            <option *ngFor="let reconIteration of reconIterations" value="{{reconIteration.id}}">
                              {{reconIteration.reconName}} {{reconIteration.executionStartTime | date:'MMM dd yyyy, hh:mm a'}}
                            </option>
                          </select>
                        </div>
                        <div class="col-md-2 top-spc30">
                          <button type="button" (click)="misReportPrepare()" class="btn submit-btn">
                            Prepare Report
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>

        <div *ngIf="!hasRoleM2p" class="row detailpage">
          <div class="col-md-12">
            <h4 class="left-space">Cashback Report</h4>
          </div>
          <div class="col-md-10">
            <form>
              <div class="">
                <div class="clearfix">
                  <div class="row form-inner-cover">
                    <div class="row">
                      <div class="col-md-12 top-spc">
                        <div class="col-md-4 right-margin">
                          <label class="required" for="cbPipelineExecutionId">Report</label>
                          <select class="form-control" id="cbPipelineExecutionId" [formControl]="cbPipelineExecutionId">
                            <option value="null" disabled>&#45;&#45;Report&#45;&#45;</option>
                            <option *ngFor="let pipelineExecution of cbPipelineExecutions" value="{{pipelineExecution.id}}">
                              {{pipelineExecution.name}} | {{pipelineExecution.date | date:'dd-MM-yyyy'}}
                            </option>
                          </select>
                        </div>
                        <div class="col-md-2 top-spc30">
                          <button type="button" (click)="prepareCashbackReport()" class="btn submit-btn">
                            Prepare Report
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>

        <div *ngIf="!hasRolePartnershipTeam && !hasRoleM2p" class="row detailpage">
          <div class="col-md-12">
            <h4 class="left-space">Delivery Output Report</h4>
          </div>
          <div class="col-md-10">
            <form>
              <div class="">
                <div class="clearfix">
                  <div class="row form-inner-cover">
                    <div class="row">
                      <div class="col-md-12 top-spc">
                        <div class="col-md-4 right-margin">
                          <label class="required" for="deliveryPipelineExecutionId">Report</label>
                          <select class="form-control" id="deliveryPipelineExecutionId" [formControl]="deliveryPipelineExecutionId">
                            <option value="null" disabled>&#45;&#45;Report&#45;&#45;</option>
                            <option *ngFor="let pipelineExecution of deliveryPipelineExecutions" value="{{pipelineExecution.id}}">
                              {{pipelineExecution.name}} | {{pipelineExecution.date | date:'dd-MM-yyyy'}}
                            </option>
                          </select>
                        </div>
                        <div class="col-md-2 top-spc30">
                          <button type="button" (click)="prepareDeliveryReport()" class="btn submit-btn">
                            Prepare Report
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>


        <div *ngIf="!hasRolePartnershipTeam" class="row">
          <div class="col-md-12">
            <h4 class="left-space">Dispute Report</h4>
          </div>
          <div class="col-md-10">
            <form>
              <div class="">
                <div class="clearfix">
                  <div class="row form-inner-cover">
                    <div class="row">
                      <div class="col-md-12 top-spc">
                        <!--<div class="col-md-4 right-margin">
                          <select class="form-control" (ngModelChange)="onNtrDataSourceChange($event)" [ngModel]="null" [ngModelOptions]="{standalone: true}">
                            <option [ngValue]="null" disabled>&#45;&#45;Report Module&#45;&#45;</option>
                            <option *ngFor="let dataSource of ntrDataSources" [ngValue]="dataSource">
                              {{dataSource.name}}
                            </option>
                          </select>
                        </div>-->
                        <!--<div class="col-md-6">
                          <div class="form-group">
                            <input type="text" [formControl]="fromDate"
                                  class="range-group-input form-control" placeholder="From Date"
                                  bsDatepicker #fromDateInput
                                  (click)="toDateInput.value=''; toDate.setValue(null)"
                                  [bsConfig]="bsConfig">
                            <span class="range-group-addon">to</span>
                            <input type="text" [formControl]="toDate"
                                  class="range-group-input form-control" placeholder="Till Date"
                                  bsDatepicker #toDateInput
                                  (click)="getToDatePickerConfig(fromDateInput.value)"
                                  [bsConfig]="getDatePickerConfigRestrictPastDate">
                          </div>
                        </div>-->
                        <div class="col-md-3">
                          <label class="required" for="settlementFromDate">From Date</label>
                            <input type="text" id="settlementFromDate" [formControl]="fromDate"
                                  class="form-control" placeholder="From Date"
                                  bsDatepicker #fromDateInput
                                  (click)="toDateInput.value=''; toDate.setValue(null)"
                                  [bsConfig]="bsConfig">
                        </div>
                        <div class="col-md-1 top-spc30">
                          <span class="range-group-addon">to</span>
                        </div>
                        <div class="col-md-3">
                          <label class="required" for="settlementToDate">To Date</label>
                            <input type="text" id="settlementToDate" [formControl]="toDate"
                                  class="form-control" placeholder="Till Date"
                                  bsDatepicker #toDateInput
                                  (click)="getToDatePickerConfig(fromDateInput.value)"
                                  [bsConfig]="getDatePickerConfigRestrictPastDate">
                        </div>
                        <div class="col-md-3 top-spc30" *ngIf="hasRoleCardOps">
                          <input [formControl]="isReversalDispute" type="checkbox" class="checkboxSize">
                          <span><i></i>Reversal Dispute</span>
                        </div>
                        <div class="col-md-2 top-spc30">
                          <button type="button" [disabled]="false" (click)="prepareDisputeReport()" class="btn submit-btn">
                            Prepare Report
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
