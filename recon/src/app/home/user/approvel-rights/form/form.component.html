<div class="main">
  <!-- MAIN CONTENT -->
  <div class="main-content">
    <div class="container-fluid">

      <div class="row">
        <div class="col-md-3 left-pad2 right-pad2 all-panel-align">

          <div class="panel panel-profile panel_height">
            <div class="clearfix">
              <table class="table table-hover table-inner-align2 privilege-table-cover">
                <tbody>
                <tr>
                  <th class="newbg">Actions</th>
                </tr>
                <tr *ngFor="let approvalCategory of approvalCategorys; let i = index">
                  <td>
                    <div class="row">
                      <div class="col-md-12 space-none">
                        <a [href]="'#subPagesnew'+i" data-toggle="collapse" class="collapsed "
                           aria-expanded="false">
                                  <span> <i class="fa fa-folder"
                                            aria-hidden="true"></i> {{approvalCategory.name}}</span>
                        </a>
                        <div [attr.id]="'subPagesnew'+i" class="collapse ">
                          <ul class="nav submenualignnew"
                              *ngFor="let subCategory of approvalCategory?.approvalSubCategories; let i = index">
                            <li><a href="javascript:void(0);"
                                   (click)="onSubCategotyChange(approvalCategory,subCategory)" [ngClass]="{'active': selectedAction.id === subCategory.id  }" class="">
                              <i class="fa fa-bar-chart" aria-hidden="true"></i> {{subCategory.name}}</a>
                            </li>
                          </ul>
                        </div>

                      </div>

                    </div>
                  </td>
                </tr>

                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="col-md-9 left-pad2 right-pad2 all-panel-align">
          <div class="panel panel-profile">
            <div class="panel panel-heading newhead newbg"><h4>Approval Rights {{panelHeadingName}}</h4></div>

            <div class="panel-body">

                <div class="col-md-12" *ngIf="formOpen">
                  <form [formGroup]="form" (ngSubmit)="onSubmit()">
                    <div class="panel-profile cover2">

                        <div class="col-md-12">
                          <div class="row">
                            <div class="col-md-3">
                              <label>Approval Level</label>
                            </div>
                            <div class="col-md-3">
                              <label>Approval Required</label>
                            </div>
                            <div class="col-md-6">
                              <label>Approver</label>
                            </div>
                          </div>
                          <div formGroupName="approvalLevelOneVo">
                            <div class="row">
                              <div class="col-md-3">
                                <label>LEVEL 1</label>
                              </div>
                              <div class="col-md-3">
                                <div class="form-group top-spc">
                                  <div class="col-md-6">
                                    <label class="fancy-radio">
                                      <input value="ALWAYS" #levelType name="levelType"
                                             (change)="hideFieldsLevelOne()" formControlName="levelType"
                                             type="radio">
                                      <span><i></i>Yes</span>
                                    </label>
                                  </div>
                                  <div class="col-md-6">
                                    <label class="fancy-radio">
                                      <input value="NONE"
                                             (change)="hideFieldsLevelOne()" formControlName="levelType"
                                             type="radio">
                                      <span><i></i>No</span>
                                    </label>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6" *ngIf="allMeduHideOne">
                                <angular2-multiselect [data]="appUsers" [settings]="dropDownSettings"
                                                      formControlName="approvalRightAssignee">
                                </angular2-multiselect>
                              </div>
                            </div>
                          </div>
                          <div formGroupName="approvalLevelTwoVo">
                            <div class="row">
                              <div class="col-md-3">
                                <label>LEVEL 2 </label>
                              </div>
                              <div class="col-md-3">
                                <div class="form-group top-spc">
                                  <div class="col-md-6">
                                    <label class="fancy-radio">
                                      <input value="ALWAYS"
                                             (change)="hideFieldsLeveltwo()" formControlName="levelType"
                                             type="radio">
                                      <span><i></i>Yes</span>
                                    </label>
                                  </div>
                                  <div class="col-md-6">
                                    <label class="fancy-radio">
                                      <input value="NONE"
                                             (change)="hideFieldsLeveltwo()" formControlName="levelType"
                                             type="radio">
                                      <span><i></i>No</span>
                                    </label>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6" *ngIf="allMeduHideTwo">
                                <angular2-multiselect [data]="appUsers" [settings]="dropDownSettings"
                                                      formControlName="approvalRightAssignee">
                                </angular2-multiselect>
                              </div>
                            </div>
                          </div>
                          <div formGroupName="approvalLevelThreeVo">
                            <div class="row">
                              <div class="col-md-3">
                                <label>LEVEL 3 </label>
                              </div>
                              <div class="col-md-3">
                                <div class="form-group top-spc">
                                  <div class="col-md-6">
                                    <label class="fancy-radio">
                                      <input value="ALWAYS" #levelThree
                                             (change)="hideFieldsLevelThree()" formControlName="levelType"
                                             type="radio">
                                      <span><i></i>Yes</span>
                                    </label>
                                  </div>
                                  <div class="col-md-6">
                                    <label class="fancy-radio">
                                      <input value="NONE" #levelThree
                                             (change)="hideFieldsLevelThree()" formControlName="levelType"
                                             type="radio">
                                      <span><i></i>No</span>
                                    </label>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6" *ngIf="allMeduHideThree">
                                <angular2-multiselect [data]="appUsers" [settings]="dropDownSettings"
                                                      formControlName="approvalRightAssignee">
                                </angular2-multiselect>
                              </div>
                            </div>
                          </div>
                        </div>

                    </div>
                    <div class="col-md-12 spc-bottom" align="right">
                      <button data-size="s" type="submit" class="submit-btn" [ladda]="isLoading">Submit</button>
                      <button type="button" (click)="cancel()" class="btn btn-primary cancel-btn">Cancel</button>
                    </div>
                  </form>
                </div>
                <div *ngIf="!formOpen&&approvalRight?.id">
                  <app-detail [approvalRight]="approvalRight" [selectedAction]="selectedAction"
                              (editClick)="editMode()"></app-detail>
                </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- END MAIN CONTENT -->
</div>

